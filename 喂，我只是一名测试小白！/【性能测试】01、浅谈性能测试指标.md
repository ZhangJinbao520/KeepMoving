<!-- @author: Zhang Jinbao -->

<!-- @date: 2022-02-22 20:53:26 -->

[TOC]

---

## 业务指标

### TPS（Transactions Per Second）

每秒处理的事务数量。

一次事务是指浏览器向服务器发送请求，由服务器返回响应的过程（即浏览器发送的请求得到响应）。

浏览器在发送请求时开始计时，收到服务器响应后结束计时，以此来计算使用的时间和完成事务的个数。



### QPS（Queries Per Second）

每秒能处理查询数量。

一次查询是指服务器每秒能够查询的次数。

$$
QPS = 并发量 / 平均响应时间 \tag{1}
$$

> ***💬说明：**QPS 现常用于描述单一接口服务的处理能力。*



### RT（Response Time）

响应时间，一次请求所需要的处理时间。



### 并发用户数（并发量）

发起请求的用户数量。

$$
并发量 = QPS * 平均响应时间
$$



### 成功率

$$
成功率 = （成功的事务数量 / 总事务数量） * 100\%
$$



## 服务器性能指标

### CPU 使用率

### 内存使用率

### 每秒磁盘吞吐量（读）

### 每秒磁盘吞吐量（写）

### 磁盘使用率

### 磁盘读写速率（IOPS）

### 每秒 IO 操作耗时

### 每秒 IO 读写耗时

### 网络流入量

### 网络流出量

### TCP 连接数量





## 中间件指标

### JVM 指标

#### GC 频率

#### Full GC 频率

#### Full GC 平均时长

#### Full GC 最小时长

#### Full GC 最大时长

#### 堆使用率

#### 活动的线程数量

#### 等待的线程数量

#### 类的加载数量

#### JDBC 活动的连接数量



### Redis 指标

#### 客户端的连接数量

#### 使用内存

#### 处理的命令数量

#### 每秒执行的命令数量

#### 请求键的命中率



### MQ 指标

#### 每秒消息的流入数量

#### 每秒消息的流出数量

#### 消费者数量

#### 连接数量



## 数据库指标

### SQL 耗时

### QPS

### TPS

### Key Buffer 命中率

### 客户端的连接数量

### 线程缓存命中率

### 锁的等待次数

### 锁的等待时长



## 网络指标

### DNS 时间

## TCP 连接时间

### 服务器处理时间

### 网络传输时间



## 其他指标

### 稳定运行时间

### 冗灾指标



## 压测方法

以**一定的请求总量**，逐步增加并发量，观察 QPS 与平均 RT 的变化曲线。

一个系统的吞吐量通常由 **TPS 和并发数**决定，每个系统的这两个值都有一定的相对极限值；在某一项达到系统的最高值，系统的吞吐量就上不去了，如果压力继续增大，系统的吞吐量反而会下降。

- 举个栗子🌰

  > 1,000,000 的请求总数，依次测试以下并发量的 QPS 值：
  >
  > - 100
  > - 200
  > - 300
  > - 400
  > - 500
  > - …