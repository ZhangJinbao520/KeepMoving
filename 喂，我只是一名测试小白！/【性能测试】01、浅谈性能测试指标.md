<!-- @author: Zhang Jinbao -->

<!-- @date: 2022-02-22 20:53:26 -->

[TOC]

---

## ä¸šåŠ¡æŒ‡æ ‡

### TPSï¼ˆTransactions Per Secondï¼‰

æ¯ç§’å¤„ç†çš„äº‹åŠ¡æ•°é‡ã€‚

ä¸€æ¬¡äº‹åŠ¡æ˜¯æŒ‡æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨è¿”å›žå“åº”çš„è¿‡ç¨‹ï¼ˆå³æµè§ˆå™¨å‘é€çš„è¯·æ±‚å¾—åˆ°å“åº”ï¼‰ã€‚

æµè§ˆå™¨åœ¨å‘é€è¯·æ±‚æ—¶å¼€å§‹è®¡æ—¶ï¼Œæ”¶åˆ°æœåŠ¡å™¨å“åº”åŽç»“æŸè®¡æ—¶ï¼Œä»¥æ­¤æ¥è®¡ç®—ä½¿ç”¨çš„æ—¶é—´å’Œå®Œæˆäº‹åŠ¡çš„ä¸ªæ•°ã€‚



### QPSï¼ˆQueries Per Secondï¼‰

æ¯ç§’èƒ½å¤„ç†æŸ¥è¯¢æ•°é‡ã€‚

ä¸€æ¬¡æŸ¥è¯¢æ˜¯æŒ‡æœåŠ¡å™¨æ¯ç§’èƒ½å¤ŸæŸ¥è¯¢çš„æ¬¡æ•°ã€‚

$$
QPS = å¹¶å‘é‡ / å¹³å‡å“åº”æ—¶é—´ \tag{1}
$$

> ***ðŸ’¬è¯´æ˜Žï¼š**QPS çŽ°å¸¸ç”¨äºŽæè¿°å•ä¸€æŽ¥å£æœåŠ¡çš„å¤„ç†èƒ½åŠ›ã€‚*



### RTï¼ˆResponse Timeï¼‰

å“åº”æ—¶é—´ï¼Œä¸€æ¬¡è¯·æ±‚æ‰€éœ€è¦çš„å¤„ç†æ—¶é—´ã€‚



### å¹¶å‘ç”¨æˆ·æ•°ï¼ˆå¹¶å‘é‡ï¼‰

å‘èµ·è¯·æ±‚çš„ç”¨æˆ·æ•°é‡ã€‚

$$
å¹¶å‘é‡ = QPS * å¹³å‡å“åº”æ—¶é—´
$$



### æˆåŠŸçŽ‡

$$
æˆåŠŸçŽ‡ = ï¼ˆæˆåŠŸçš„äº‹åŠ¡æ•°é‡ / æ€»äº‹åŠ¡æ•°é‡ï¼‰ * 100\%
$$



## æœåŠ¡å™¨æ€§èƒ½æŒ‡æ ‡

### CPU ä½¿ç”¨çŽ‡

### å†…å­˜ä½¿ç”¨çŽ‡

### æ¯ç§’ç£ç›˜åžåé‡ï¼ˆè¯»ï¼‰

### æ¯ç§’ç£ç›˜åžåé‡ï¼ˆå†™ï¼‰

### ç£ç›˜ä½¿ç”¨çŽ‡

### ç£ç›˜è¯»å†™é€ŸçŽ‡ï¼ˆIOPSï¼‰

### æ¯ç§’ IO æ“ä½œè€—æ—¶

### æ¯ç§’ IO è¯»å†™è€—æ—¶

### ç½‘ç»œæµå…¥é‡

### ç½‘ç»œæµå‡ºé‡

### TCP è¿žæŽ¥æ•°é‡





## ä¸­é—´ä»¶æŒ‡æ ‡

### JVM æŒ‡æ ‡

#### GC é¢‘çŽ‡

#### Full GC é¢‘çŽ‡

#### Full GC å¹³å‡æ—¶é•¿

#### Full GC æœ€å°æ—¶é•¿

#### Full GC æœ€å¤§æ—¶é•¿

#### å †ä½¿ç”¨çŽ‡

#### æ´»åŠ¨çš„çº¿ç¨‹æ•°é‡

#### ç­‰å¾…çš„çº¿ç¨‹æ•°é‡

#### ç±»çš„åŠ è½½æ•°é‡

#### JDBC æ´»åŠ¨çš„è¿žæŽ¥æ•°é‡



### Redis æŒ‡æ ‡

#### å®¢æˆ·ç«¯çš„è¿žæŽ¥æ•°é‡

#### ä½¿ç”¨å†…å­˜

#### å¤„ç†çš„å‘½ä»¤æ•°é‡

#### æ¯ç§’æ‰§è¡Œçš„å‘½ä»¤æ•°é‡

#### è¯·æ±‚é”®çš„å‘½ä¸­çŽ‡



### MQ æŒ‡æ ‡

#### æ¯ç§’æ¶ˆæ¯çš„æµå…¥æ•°é‡

#### æ¯ç§’æ¶ˆæ¯çš„æµå‡ºæ•°é‡

#### æ¶ˆè´¹è€…æ•°é‡

#### è¿žæŽ¥æ•°é‡



## æ•°æ®åº“æŒ‡æ ‡

### SQL è€—æ—¶

### QPS

### TPS

### Key Buffer å‘½ä¸­çŽ‡

### å®¢æˆ·ç«¯çš„è¿žæŽ¥æ•°é‡

### çº¿ç¨‹ç¼“å­˜å‘½ä¸­çŽ‡

### é”çš„ç­‰å¾…æ¬¡æ•°

### é”çš„ç­‰å¾…æ—¶é•¿



## ç½‘ç»œæŒ‡æ ‡

### DNS æ—¶é—´

## TCP è¿žæŽ¥æ—¶é—´

### æœåŠ¡å™¨å¤„ç†æ—¶é—´

### ç½‘ç»œä¼ è¾“æ—¶é—´



## å…¶ä»–æŒ‡æ ‡

### ç¨³å®šè¿è¡Œæ—¶é—´

### å†—ç¾æŒ‡æ ‡



## åŽ‹æµ‹æ–¹æ³•

ä»¥**ä¸€å®šçš„è¯·æ±‚æ€»é‡**ï¼Œé€æ­¥å¢žåŠ å¹¶å‘é‡ï¼Œè§‚å¯Ÿ QPS ä¸Žå¹³å‡ RT çš„å˜åŒ–æ›²çº¿ã€‚

ä¸€ä¸ªç³»ç»Ÿçš„åžåé‡é€šå¸¸ç”± **TPS å’Œå¹¶å‘æ•°**å†³å®šï¼Œæ¯ä¸ªç³»ç»Ÿçš„è¿™ä¸¤ä¸ªå€¼éƒ½æœ‰ä¸€å®šçš„ç›¸å¯¹æžé™å€¼ï¼›åœ¨æŸä¸€é¡¹è¾¾åˆ°ç³»ç»Ÿçš„æœ€é«˜å€¼ï¼Œç³»ç»Ÿçš„åžåé‡å°±ä¸Šä¸åŽ»äº†ï¼Œå¦‚æžœåŽ‹åŠ›ç»§ç»­å¢žå¤§ï¼Œç³»ç»Ÿçš„åžåé‡åè€Œä¼šä¸‹é™ã€‚

- ä¸¾ä¸ªæ —å­ðŸŒ°

  > 1,000,000 çš„è¯·æ±‚æ€»æ•°ï¼Œä¾æ¬¡æµ‹è¯•ä»¥ä¸‹å¹¶å‘é‡çš„ QPS å€¼ï¼š
  >
  > - 100
  > - 200
  > - 300
  > - 400
  > - 500
  > - â€¦